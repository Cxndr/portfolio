import { RiBracesFill } from "react-icons/ri";
import { IoIosLaptop } from "react-icons/io";
import { FaDatabase, FaTwitter, FaFacebook, FaInstagram, FaLinkedin, FaYoutube, FaPinterest } from "react-icons/fa6";
import { FaWifi } from "react-icons/fa6";
import { FaLink } from "react-icons/fa6";
import { FaCode } from "react-icons/fa6";
import { FaGithub } from "react-icons/fa";
import { IoLogoJavascript } from "react-icons/io5";
import { FaCss3Alt } from "react-icons/fa";
import { FaHtml5 } from "react-icons/fa6";
import { FaPython } from "react-icons/fa6";
import { SiCplusplus } from "react-icons/si";
import { IoIosCloudDone } from "react-icons/io";
import { FaAppStoreIos } from "react-icons/fa";
import { IoLogoAndroid } from "react-icons/io";
import { FaApple } from "react-icons/fa";
import { MdOutlineQrCode2 } from "react-icons/md";
import { TfiWorld } from "react-icons/tfi";
import { FaReact } from "react-icons/fa6";
import { FaLinux } from "react-icons/fa6";
import { RiNextjsFill } from "react-icons/ri";
import { FaNodeJs } from "react-icons/fa";
import { FaPhp } from "react-icons/fa";
import { FaJava } from "react-icons/fa";

import { FaCameraRetro } from "react-icons/fa";
import { BsCameraReelsFill } from "react-icons/bs";
import { MdCameraRoll } from "react-icons/md";
import { ImCamera } from "react-icons/im";
import { FaMobileScreen } from "react-icons/fa6";
import { RiAuctionFill } from "react-icons/ri";
import { MdOutlinePointOfSale } from "react-icons/md";
import { LiaSalesforce } from "react-icons/lia";
import { BiSolidPieChartAlt2 } from "react-icons/bi";
import { PiChartLineLight } from "react-icons/pi";
import { PiPresentationChart } from "react-icons/pi";
import { SiAdobephotoshop } from "react-icons/si";
import { SiAdobeillustrator } from "react-icons/si";
import { FaMailchimp } from "react-icons/fa6";
import { MdAlternateEmail } from "react-icons/md";
import { BsEnvelope } from "react-icons/bs";
import { FaHubspot } from "react-icons/fa6";
import { SiBrevo } from "react-icons/si";
import { MdCampaign } from "react-icons/md";
import { TbChartInfographic } from "react-icons/tb";

import { BsFillMusicPlayerFill } from "react-icons/bs";
import { BsMusicNoteBeamed } from "react-icons/bs";
import { BsMusicNote } from "react-icons/bs";
import { BsMusicNoteList } from "react-icons/bs";
import { TbFileMusic } from "react-icons/tb";
import { FaSpotify } from "react-icons/fa6";
import { SiApplemusic } from "react-icons/si";
import { SiYoutubemusic } from "react-icons/si";
import { FaSoundcloud } from "react-icons/fa6";
import { FaBandcamp } from "react-icons/fa6";
import { FaGuitar } from "react-icons/fa6";
import { GiGuitarHead } from "react-icons/gi";
import { LiaDrumSolid } from "react-icons/lia";
import { TbActivityHeartbeat } from "react-icons/tb";
import { GiTrumpet } from "react-icons/gi";
import { BsPcDisplay } from "react-icons/bs";
import { IoMdLaptop } from "react-icons/io";
import { GiClarinet } from "react-icons/gi";
import { GiViolin } from "react-icons/gi";
import { GiXylophone } from "react-icons/gi";
import { GiTuba } from "react-icons/gi";
import { GiTrombone } from "react-icons/gi";
import { CgPiano } from "react-icons/cg";
import { LuPiano } from "react-icons/lu";
import { FaHeadphonesAlt } from "react-icons/fa";
import { FaMicrophone } from "react-icons/fa";
import { MdMicExternalOn } from "react-icons/md";


import { FaUser } from "react-icons/fa";
import { FaPhoneVolume } from "react-icons/fa6";
import { FaHeadset } from "react-icons/fa6";
import { IoAtOutline } from "react-icons/io5";
import { IoChatboxEllipses } from "react-icons/io5";
import { IoChatbubblesSharp } from "react-icons/io5";
import { FaMobileRetro } from "react-icons/fa6";
import { FaMobileScreenButton } from "react-icons/fa6";
import { BsFillChatQuoteFill } from "react-icons/bs";
import { AiOutlineTeam } from "react-icons/ai";
import { FaFacebookMessenger } from "react-icons/fa6";
import { FaWhatsapp } from "react-icons/fa6";
import { SiReaddotcv } from "react-icons/si";





import React from 'react';
import ReactDOMServer from 'react-dom/server';
import { IconBaseProps } from 'react-icons';

// Define a more specific type for react-icons elements
type TypedIconElement = React.ReactElement<IconBaseProps>;

// Export icons as JSX elements with the specific type
export const iconsListDev: TypedIconElement[] = [
  <RiBracesFill size={24} key="braces"  />,
  <IoIosLaptop size={24} key="laptop" />,
  <FaDatabase size={24} key="database" />,
  <FaWifi size={24} key="wifi" />,
  <FaLink size={24} key="link" />,
  <FaCode size={24} key="square-code" />,
  <IoLogoJavascript size={24} key="js" />,
  <FaGithub size={24} key="github" />,
  <FaCss3Alt size={24} key="css" />,
  <FaHtml5 size={24} key="html" />,
  <FaPython size={24} key="python" />,
  <SiCplusplus size={24} key="cplusplus" />,
  <IoIosCloudDone size={24} key="cloud-done" />,
  <FaAppStoreIos size={24} key="app-store-ios" />,
  <IoLogoAndroid size={24} key="android" />,
  <FaApple size={24} key="apple" />,
  <FaLinux size={24} key="linux" />,
  <MdOutlineQrCode2 size={24} key="qr-code" />,
  <TfiWorld size={24} key="world" />,
  <FaReact size={24} key="react" />,
  <RiNextjsFill size={24} key="nextjs" />,
  <FaNodeJs size={24} key="nodejs" />,
  <FaPhp size={24} key="php" />,
  <FaJava size={24} key="java" />,
];

export const iconsListMarketing: TypedIconElement[] = [
  <FaFacebook size={24} key="facebook" />,
  <FaInstagram size={24} key="instagram" />,
  <FaTwitter size={24} key="twitter" />,
  <FaLinkedin size={24} key="linkedin" />,  
  <FaYoutube size={24} key="youtube" />,
  <FaPinterest size={24} key="pinterest" />,
  <FaCameraRetro size={24} key="camera-retro" />,
  <BsCameraReelsFill size={24} key="camera-reels" />,
  <MdCameraRoll size={24} key="camera-roll" />,
  <ImCamera size={24} key="camera" />,
  <FaMobileScreen size={24} key="mobile-screen" />,
  <RiAuctionFill size={24} key="auction" />,
  <MdOutlinePointOfSale size={24} key="point-of-sale" />,
  <LiaSalesforce size={24} key="salesforce" />,
  <BiSolidPieChartAlt2 size={24} key="pie-chart" />,
  <PiChartLineLight size={24} key="chart-line" />,
  <PiPresentationChart size={24} key="presentation-chart" />,
  <SiAdobephotoshop size={24} key="photoshop" />,
  <SiAdobeillustrator size={24} key="illustrator" />,
  <FaMailchimp size={24} key="mailchimp" />,
  <MdAlternateEmail size={24} key="email" />,
  <BsEnvelope size={24} key="envelope" />,
  <FaHubspot size={24} key="hubspot" />,
  <SiBrevo size={24} key="brevo" />,
  <MdCampaign size={24} key="campaign" />,
  <TbChartInfographic size={24} key="chart-infographic" />,
];

export const iconsListMusic: TypedIconElement[] = [
  <BsFillMusicPlayerFill size={24} key="music-player" />,
  <BsMusicNoteBeamed size={24} key="music-note-beamed" />,
  <BsMusicNote size={24} key="music-note" />,
  <BsMusicNoteList size={24} key="music-note-list" />,
  <TbFileMusic size={24} key="file-music" />,
  <FaSpotify size={24} key="spotify" />,
  <SiApplemusic size={24} key="apple-music" />,
  <SiYoutubemusic size={24} key="youtube-music" />,
  <FaSoundcloud size={24} key="soundcloud" />,
  <FaBandcamp size={24} key="bandcamp" />,
  <FaGuitar size={24} key="guitar" />,
  <GiGuitarHead size={24} key="guitar-head" />,
  <LiaDrumSolid size={24} key="drum" />,
  <TbActivityHeartbeat size={24} key="activity-heartbeat" />,
  <GiTrumpet size={24} key="trumpet" />,
  <BsPcDisplay size={24} key="pc-display" />,
  <IoMdLaptop size={24} key="laptop" />,
  <GiClarinet size={24} key="clarinet" />,
  <GiViolin size={24} key="violin" />,
  <GiXylophone size={24} key="xylophone" />,
  <GiTuba size={24} key="tuba" />,
  <GiTrombone size={24} key="trombone" />,
  <CgPiano size={24} key="piano" />,
  <LuPiano size={24} key="piano" />,
  <FaHeadphonesAlt size={24} key="headphones" />,
  <FaMicrophone size={24} key="microphone" />,
  <MdMicExternalOn size={24} key="mic-external-on" />,
];

export const iconsListContact: TypedIconElement[] = [
  <FaUser size={24} key="user" />,
  <BsEnvelope size={24} key="envelope" />,
  <FaPhoneVolume size={24} key="phone-volume" />,
  <FaHeadset size={24} key="headset" />,
  <IoAtOutline size={24} key="at-outline" />,
  <IoChatboxEllipses size={24} key="chatbox-ellipses" />,
  <IoChatbubblesSharp size={24} key="chatbubbles-sharp" />,
  <FaMobileRetro size={24} key="mobile-retro" />,
  <FaMobileScreenButton size={24} key="mobile-screen-button" />,
  <BsFillChatQuoteFill size={24} key="chat-quote" />,
  <AiOutlineTeam size={24} key="team" />,
  <FaLinkedin size={24} key="linkedin" />,
  <FaTwitter size={24} key="twitter" />,
  <FaGithub size={24} key="github" />,
  <FaFacebookMessenger size={24} key="facebook-messenger" />,
  <FaWhatsapp size={24} key="whatsapp" />,
  <SiReaddotcv size={24} key="read-cv" />,
];

export const iconsListAll = [...iconsListDev, ...iconsListMarketing, ...iconsListMusic, ...iconsListContact];

// Function to get random words (icons)
export function getXRandomWords(words: TypedIconElement[], amount: number): TypedIconElement[] {
  // Fisher-Yates shuffle
  for (let i = words.length - 1; i > 0; i--) {
    const j = Math.floor(Math.random() * (i + 1));
    [words[i], words[j]] = [words[j], words[i]];
  }
  // Slice and return
  return words.slice(0, amount);
}

// Function to generate the background SVG
export function generateBg(icons: TypedIconElement[]) { // Use the specific type here too
  const svgWidth = 2000;
  const svgHeight = 2000;
  const gridSize = 70;
  const iconSize = 24;
  const fillColor = "rgb(180,180,180)";

  let svgContent = `
    <svg width="${svgWidth}" height="${svgHeight}" xmlns="http://www.w3.org/2000/svg">
  `;

  const iconsPerRow = Math.floor(svgWidth / gridSize);
  for (let row = 0; row < Math.floor(svgHeight / gridSize); row++) {
    // Ensure the input to getXRandomWords is also correctly typed if spreading
    const rowIcons = getXRandomWords([...icons], 20);
    const offset = row % rowIcons.length;

    for (let col = 0; col < iconsPerRow; col++) {
      const iconIndex = (col + offset) % rowIcons.length;
      const icon = rowIcons[iconIndex]; // icon is now TypedIconElement
      const x = col * gridSize + gridSize / 2;
      const y = row * gridSize + gridSize / 2;
      const rotation = Math.floor(Math.random() * 101) - 50;

      svgContent += `<g transform="translate(${x - iconSize/2}, ${y - iconSize/2}) rotate(${rotation}, ${iconSize/2}, ${iconSize/2})">`;
      svgContent += ReactDOMServer.renderToString(
        // Now cloneElement should accept 'color' because 'icon' is TypedIconElement
        React.cloneElement(icon, { 
          color: fillColor, 
          style: { display: 'inline-block' }
        })
      );
      svgContent += '</g>';
    }
  }

  svgContent += `</svg>`;

  // Ensure proper encoding of special characters
  svgContent = svgContent.replace(/#/g, '%23');

  return { svgContent, svgHeight, svgWidth };
}
